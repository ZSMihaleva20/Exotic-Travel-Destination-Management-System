<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Destinations</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<header>
  <h1>Destinations</h1>
  <a href="/home">Back to Home</a>
</header>
<main>
  <div>
    <ul>
      <th:block th:each="destination : ${acceptedDestinations}">
        <li>
          <h2 th:text="${destination.name}"></h2>
          <p th:text="${destination.description}"></p>
          <img th:src="'/uploaded-image/' + ${destination.imageUrl}" alt="Destination Image" style="width: 200px; height: auto;">
          <p>Max people: <span th:text="${destination.limitedPeople}"></span></p>
          <p>Remaining spots: <span th:text="${destination.remainingPeople}"></span></p>
          <p>Price for 1 person: <span th:text="${destination.price}"></span> lv.</p>
          <p>Average Rating: <span th:text="${destination.getAverageRating()}"></span> &#11088;</p>
          <p>Popularity: <span th:text="${destination.getPopularity()}"></span> people reserved</p>
          <a th:href="@{/reservation/{id}(id=${destination.id})}">
            <button th:disabled="${destination.remainingPeople == 0}">Make a Reservation</button>
          </a>
        </li>
      </th:block>
    </ul>
  </div>
</main>
<br>
<a href="/myReservations">My reservations</a><br><br>
<a href="/rateDestination">Rate Your Destinations</a>
</body>
</html>
